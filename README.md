# ë©”ì„¸ì§€ í(Message Queue)
- ì»´í“¨íŒ… ì‹œìŠ¤í…œì—ì„œ ì„œë¡œ ë‹¤ë¥¸ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ë‚˜ ì„œë¹„ìŠ¤ ê°„ì— ë©”ì‹œì§€ë¥¼ êµí™˜í•˜ê¸° ìœ„í•œ í†µì‹  ë©”ì»¤ë‹ˆì¦˜
- ë” í° ê°œë…ìœ¼ë¡œ `ë©”ì„¸ì§€ ì§€í–¥ ë¯¸ë“¤ì›¨ì–´(MOM)`ë¥¼ êµ¬í˜„í•œ ì‹œìŠ¤í…œì„ ì˜ë¯¸í•¨
- ì—¬ëŸ¬ ì»´í¬ë„ŒíŠ¸ê°€ ë¹„ë™ê¸°ì ìœ¼ë¡œ í†µì‹ í•  ìˆ˜ ìˆê²Œ í•´ ì¤Œ
- ì‹œìŠ¤í…œì˜ í™•ì¥ì„±ê³¼ ì•ˆì •ì„±ì„ í¬ê²Œ í–¥ìƒ
- íë¦„ : `[Producer(s)] --> [Queue (Broker)] --> [Consumer(s)]`
- ë¶„ì‚° ì‹œìŠ¤í…œì—ì„œ íš¨ìœ¨ì ì´ê³  ì‹ ë¢°ì„± ìˆëŠ” ë©”ì‹œì§€ ì „ë‹¬ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” í•µì‹¬ ê¸°ìˆ ì´ë©° ì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œì€ í™•ì¥ì„±, ì•ˆì •ì„± ë° ìœ ì—°ì„±ì„ ìœ ì§€í•˜ë©´ì„œ ë³µì¡í•œ ì‘ì—…ì„ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•¨

## Message Queueì˜ ì£¼ìš” ê°œë…
- `í(Queue)`
  - ë©”ì‹œì§€ë¥¼ ì¼ì‹œì ìœ¼ë¡œ ì €ì¥í•˜ëŠ” ë²„í¼ì…ë‹ˆë‹¤. íëŠ” ë©”ì‹œì§€ë¥¼ ìˆœì„œëŒ€ë¡œ ì €ì¥í•˜ê³  ì „ë‹¬í•˜ë©°, ì¼ë°˜ì ìœ¼ë¡œ `FIFO(First In, First Out) ë°©ì‹`ìœ¼ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
- `ë©”ì‹œì§€(Message)`
  -  ì†¡ì‹ ì -> ìˆ˜ì‹ ì ë³´ë‚´ëŠ” ë°ì´í„° ë‹¨ìœ„ í—¤ë”ì™€ ë³¸ë¬¸ìœ¼ë¡œ êµ¬ì„±ë˜ë©°, í•´ë”ì—ëŠ” ë©”ì„¸ì§€ì˜ ì†ì„±, ë©”íƒ€ ë°ì´í„°, ë¼ìš°íŒ… ì •ë³´ë¥¼ í¬í•¨ í•  ìˆ˜ ìˆê³  ë³¸ë¬¸ì—ëŠ” ì‹¤ì œ ë°ì´í„°ê°€ ë“¤ì–´ ìˆìŒ
-  `í”„ë¡œë“€ì„œ(Producer)`
  -  ë©”ì‹œì§€ë¥¼ **ìƒì„± í•˜ëŠ” ì£¼ì²´ì´ë©°** íì— ë„£ëŠ” ì—­í• ì„ í•˜ê³  í”„ë¡œë“€ì„œëŠ” ë©”ì‹œì§€ë¥¼ íì— ë„£ê¸°ë§Œ í•˜ë©´ ë˜ë¯€ë¡œ **ìˆ˜ì‹ ìê°€ ë©”ì‹œì§€ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ í™•ì¸í•  í•„ìš”ê°€ ì—†ìŒ**
-  `ì»¨ìŠˆë¨¸(Consumer)`
  - íì—ì„œ **ë©”ì‹œì§€ë¥¼ ì½ì–´ì™€ ì²˜ë¦¬**í•˜ëŠ” ì—­í• ì„ í•¨ ì»¨ìŠˆë¨¸ëŠ” íì— ì ‘ê·¼í•˜ì—¬ ë©”ì‹œì§€ë¥¼ ê°€ì ¸ì™€ì„œ **í•„ìš”í•œ ì‘ì—…ì„ ìˆ˜í–‰ í•¨**
- `ë¸Œë¡œì»¤(Broker)`
  -  ë©”ì‹œì§€ í ì‹œìŠ¤í…œì„ ê´€ë¦¬í•˜ê³  ë©”ì‹œì§€ì˜ ì†¡ìˆ˜ì‹ ì„ ì¡°ìœ¨í•˜ëŠ” **ì„œë²„ ì—­í• ì„ í•œë‹¤**
  -  ë©”ì‹œì§€ì˜ ë¼ìš°íŒ…, ì „ë‹¬ ë³´ì¥, ì¼ê´€ì„± ìœ ì§€ ë“±ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤.-  

## ë©”ì‹œì§€ ì§€í–¥ ë¯¸ë“¤ì›¨ì–´(MOM - Message Oriented Middleware)
- ì‹œìŠ¤í…œê³¼ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°„ì˜ ë©”ì‹œì§€ ê¸°ë°˜ í†µì‹ ì„ ì§€ì›í•˜ëŠ” ì†Œí”„íŠ¸ì›¨ì–´ ì¸í”„ë¼ìŠ¤íŠ¸ëŸ­ì²˜ì…ë‹ˆë‹¤. (ì–´í”Œë¦¬ì¼€ì´ì…˜ë“¤ì˜ ë©”ì‹œì§€ë¥¼ ì¤‘ê°„ì—ì„œ ê´€ë¦¬í•´ì£¼ëŠ” ì‹œìŠ¤í…œ)
  -  ê¸°ë°˜ì„ í˜•ì„±í•˜ëŠ” ê¸°ì´ˆì ì¸ ì‹œì„¤ê³¼ ì‹œìŠ¤í…œ
-  ì´ë¡ , ê°œë…, ì„¤ê³„ì ì¸ ë°©í–¥ì„±ì„ ì œì‹œí•˜ê³  ìˆë‹¤ê³  ë³´ë©´ ë©ë‹ˆë‹¤. ì§ì ‘ì ì¸ êµ¬í˜„ì²´ëŠ” ì•„ë‹™ë‹ˆë‹¤.
- â„¹ï¸ ì‰½ê²Œ ì„¤ëª…í•˜ë©´ - ë¸Œë¡œì»¤ëŠ” MOMì˜ í•˜ìœ„ ê°œë…ìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤
  -  `ë¸Œë¡œì»¤`ëŠ” **ë©”ì‹œì§€ íë¥¼ ê´€ë¦¬í•˜ê³  ë©”ì‹œì§€ì˜ ì•ˆì „í•œ ì „ë‹¬ì„ ë³´ì¥**í•˜ëŠ” ë°˜ë©´, `MOM`ì€ **ë” í¬ê´„ì ì¸ ê¸°ëŠ¥ì„ ì œê³µ ì‹œìŠ¤í…œ ê°„ì˜ ë©”ì‹œì§€ ê¸°ë°˜ í†µì‹  ì „ë°˜ì„ ë‹¤ë£¸**

## ì¥ì 
- ë¹„ë™ê¸° ì²˜ë¦¬
  - ì‹œìŠ¤í…œì˜ ì»´í¬ë„ŒíŠ¸ë“¤ì´ ë©”ì‹œì§€ë¥¼ ì¦‰ì‹œ ì²˜ë¦¬í•˜ì§€ ì•Šì•„ë„ ë˜ì–´, ë‹¤ë¥¸ ì‘ì—…ì„ ë™ì‹œì— ìˆ˜í–‰í•  ìˆ˜ ìˆìŒ ë”°ë¼ì„œ ë³‘ë ¬ ì²˜ë¦¬ì™€ ë¹„ë™ê¸° í†µì‹ ì„ ê°€ëŠ¥í•˜ë‹¤.
    - ìš°í¸í•¨ì— ìš°í¸ì„ ë„£ê³  ìš°í¸ì„ êº¼ë‚´ê°€ëŠ” í˜•ì‹ìœ¼ë¡œ ìƒê°í•˜ë©´ ì‰½ë‹¤.
- ë‚´ê²°í•¨ì„±(Fault Tolerance):
  - ì‹œìŠ¤í…œì˜ ì¼ë¶€ê°€ ì‹¤íŒ¨í•˜ë”ë¼ë„ ë‚˜ë¨¸ì§€ ì‹œìŠ¤í…œì´ ê³„ì† ë™ì‘í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤. ì»¨ìŠˆë¨¸ê°€ ë‹¤ìš´ë˜ë”ë¼ë„ ë©”ì‹œì§€ëŠ” íì— ì €ì¥ë˜ì–´ ë‚˜ì¤‘ì— ì²˜ë¦¬ë  ìˆ˜ ìˆìŒ
    - ì»¨ìŠˆë¨¸(ìš°í¸ë¬¼ì„ ê°€ì ¸ê°ˆ ì‚¬ëŒ)ì´ ì•ˆê°€ì ¸ê°€ë©´ ìš°í¸ë¬¼ì€ ê·¸ëŒ€ë¡œ ìˆìŒ
- í™•ì¥ì„±(Scalability):
  - ë‹¤ìˆ˜ì˜ í”„ë¡œë“€ì„œ(í”„ë¡œì„¸ìŠ¤)**ë“¤**ì´ íì— ë©”ì„¸ì§€ë¥¼ ë³´ë‚¼ ìˆ˜ ìˆë‹¤
- ë””ì»¤í”Œë§(Decoupling):
  - ì‹œìŠ¤í…œì˜ ì»´í¬ë„ŒíŠ¸ ê°„ ê²°í•©ë„ë¥¼ ë‚®ì¶° ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ, í…ŒìŠ¤íŠ¸, ë°°í¬í•  ìˆ˜ ìˆê²Œ í•´ì¤ë‹ˆë‹¤. ì´ëŠ” ë³µì¡í•œ ì‹œìŠ¤í…œì„ ë” ì‰½ê²Œ ê´€ë¦¬í•˜ê³  ìœ ì§€ë³´ìˆ˜í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

## ë°ì´í„° ìš´ë°© ë°©ì‹
- `ë©”ì„¸ì§€ ë¸Œë¡œì»¤(Message Broker)` ë°©ì‹
  - `Message Broker`ëŠ” `Event Broker`ì˜ ê¸°ëŠ¥ì„ í•˜ì§€ ëª»í•©ë‹ˆë‹¤  
  - Producerê°€ ìƒì‚°í•œ ë©”ì„¸ì§€ë¥¼ ë©”ì„¸ì§€ íì— ì €ì¥, ì €ì¥ëœ ë©”ì„¸ì§€ë¥¼ Consumerê°€ ê°€ì ¸ê°€ëŠ” í˜•ì‹ì´ë¡œ ë©”ì„¸ì§€ ë¸Œë¡œì»¤ëŠ” Consumerê°€ ë©”ì„¸ì§€ íì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ê°€ê²Œ ë˜ë©´ ì§§ì€ ì‹œê°„ ë‚´ì— ë©”ì„¸ì§€ íì—ì„œ ì‚­ì œëœë‹¤.
- `ì´ë²¤íŠ¸ ë¸Œë¡œì»¤(Event Broker)`
  - ê¸°ë³¸ì ìœ¼ë¡œ ë©”ì„¸ì§€ ë¸Œë¡œì»¤ì˜ ì—­í•  ìˆ˜í–‰ì´ ê°€ëŠ¥
  - ì´ë²¤íŠ¸ ë¸Œë¡œì»¤ê°€ ê´€ë¦¬í•˜ëŠ” ë°ì´í„°ë¥¼ ì´ë²¤íŠ¸ë¼ê³  í•˜ë©° Consumerê°€ ì†Œë¹„í•œ ë°ì´í„°ë¥¼ í•„ìš”í•œ ê²½ìš° ë‹¤ì‹œ ì†Œë¹„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

## ì£¼ìš” Message Queue ì‹œìŠ¤í…œ
- Apache Kafka ( â„¹ï¸ í•´ë‹¹ ì‹œìŠ¤í…œì„ ì‚¬ìš©í—ˆì—¬ í† ì´ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰ )
  - ì˜¤í”ˆ ì†ŒìŠ¤ ìŠ¤íŠ¸ë¦¬ë° í”Œë«í¼ìœ¼ë¡œ, ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ì‹ ì†í•˜ê²Œ ì²˜ë¦¬í•˜ê³ , ì €ì¥í•˜ë©°, ì „ì†¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - íë¥¼ êµ¬í˜„í•˜ì§€ ì•ŠìŒ ëŒ€ì‹ ì— í† í”½(`topic`)ë¼ê³  ë¶ˆë¦¬ëŠ” ì¹´í…Œê³ ë¦¬ì— ë°ì´í„° ì§‘í•©ì„ ì €ì¥
    - í•˜ë‚˜ì˜ topicì€ ë‹¤ìˆ˜ê°œì˜ partitionìœ¼ë¡œ ë‚˜ë‰˜ì–´ì§„ë‹¤.
  - `Kafka Cluster`ë¥¼ í†µí•´ ë³‘ë ¬ì²˜ë¦¬ê°€ ì£¼ìš” ì°¨ë³„ì ì¸ ë§Œí¼ ë°©ëŒ€í•œ ì–‘ì˜ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•  ë•Œ, ì¥ì ì´ ë¶€ê°ëœë‹¤.
  - `ì´ë²¤íŠ¸ ë¸Œë¡œì»¤(Event Broker)` ë°©ì‹ì´ë‹¤.
  - ğŸ‘‰ [Kafka ì²˜ë¦¬ êµ¬ì¡°]
    - `Producer`ê°€ í† í”½(`topic`)ìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì „ì†¡í•©ë‹ˆë‹¤.
    - `Broker`ì—ì„œ ë©”ì‹œì§€ëŠ” íŠ¹ì • íŒŒí‹°ì…˜(`partition`)ìœ¼ë¡œ ë¶„ë°°ë©ë‹ˆë‹¤.
    - ê° `Consumer Group`ì— ì†í•œ `Consumer`ê°€ í† í”½(`topic`)ì˜ íŒŒí‹°ì…˜(`partition`)ì„ êµ¬ë…í•˜ê³  ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•©ë‹ˆë‹¤.
    - `Consumer Group` ë‚´ì—ì„œëŠ” ê° `Consumer`ê°€ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    - **ë°ì´í„°ë¥¼ ì €ì¥**í•  ë•Œ ê¸°ë³¸ì ìœ¼ë¡œ **ë””ìŠ¤í¬ì— ì €ì¥**í•˜ë¯€ë¡œ, ë°ì´í„°ë¥¼ ì¥ê¸°ê°„ ë³´ê´€í•˜ëŠ” ë° ì í•©í•©ë‹ˆë‹¤.
- RabbitMQ
  - AMQP(Advanced Message Queuing Protocol)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ì˜¤í”ˆ ì†ŒìŠ¤ ë©”ì‹œì§€ ë¸Œë¡œì»¤. ë‹¤ì–‘í•œ ë¼ìš°íŒ… ê¸°ëŠ¥ê³¼ í”ŒëŸ¬ê·¸ì¸ì„ ì œê³µ.
  - ê¸°ë³¸ì ìœ¼ë¡œ ì „í†µì ì¸ Message Queue ë°©ì‹ì„ ì§€ì›í•©ë‹ˆë‹¤.ë˜í•œ, message exchange( ë©”ì‹œì§€ë¥¼ ì†¡ìˆ˜ì‹ í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë©”ì»¤ë‹ˆì¦˜)ë¥¼ ì‚¬ìš©í•˜ì—¬ pub/sub ë°©ì‹ë„ êµ¬í˜„í•©ë‹ˆë‹¤.
  - ë°ì´í„° ì²˜ë¦¬ ë³´ë‹¨, ê´€ë¦¬ì  ì¸¡ë©´ì´ë‚˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ êµ¬í˜„ì„ ìœ„í•œ ì„œë¹„ìŠ¤ë¥¼ êµ¬ì¶•í•  ë•Œ ì‚¬ìš©
  - Producerì™€ Consumerì˜ ê²°í•©ë„ê°€ ë†’ìŠµë‹ˆë‹¤.
  - `ë©”ì„¸ì§€ ë¸Œë¡œì»¤(Message Broker)` ë°©ì‹ì´ë‹¤.
  - ğŸ‘‰ [RabbitMQ ì²˜ë¦¬ êµ¬ì¡°]
    - `Producer`ê°€ `Broker`ë¡œ ë©”ì„¸ì§€ë¥¼ ë³´ëƒ…ë‹ˆë‹¤.
    - `Broker`ë‚´ `Exchange`ì—ì„œ í•´ë‹¹í•˜ëŠ” `Key`ì— ë§ê²Œ `Queue`ì— ë¶„ë°°í•©ë‹ˆë‹¤.(Binding)
    - í•´ë‹¹ `Queue`ë¥¼ êµ¬ë…í•˜ëŠ” `Consumer`ê°€ ë©”ì„¸ì§€ë¥¼ ì†Œë¹„í•©ë‹ˆë‹¤.
- Amazon SQS (Simple Queue Service)
  - AWSì—ì„œ ì œê³µí•˜ëŠ” ê´€ë¦¬í˜• ë©”ì‹œì§€ í ì„œë¹„ìŠ¤ë¡œ, ê³ ê°€ìš©ì„±ê³¼ í™•ì¥ì„±ì„ ì œê³µ.  


## Kafka ì‚¬ìš© ì˜ˆì‹œ
- ê°„ë‹¨í•œ ë°©ë²• [ë§í¬](https://github.com/edel1212/messageQueueStudy/tree/main/easy-version)
  - ê²½ëŸ‰í™”ëœ Kafa, Zookeeperë¥¼ ì‚¬ìš©í•˜ì—¬ Producer, Conuser ì‚¬ìš©
- Cluster ë°©ë²• [ë§í¬](https://github.com/edel1212/messageQueueStudy/tree/main/advance-version)
  - 3ê°œì˜ Borkder, Zookeeperë¥¼ ì´ìš©í•˜ì—¬ Cluster êµ¬ì„±ê³¼ íŒŒí‹°ì…”ë‹ ë° ë³µì œ ì‚¬ìš©

## Kafka ì‚¬ìš© ì‹œ í—·ê°ˆë ¸ë˜ ê°œë…
- ### `Producer`ê°€ ë“±ë¡í•œ `Topic`ì— ë©”ì„¸ì§€ë¥¼ ë„£ëŠ” ê°œë…ì´ë‹¤
  - **ì¹´í”„ì¹´ í´ëŸ¬ìŠ¤í„°ì˜ ë¸Œë¡œì»¤ì—ì„œ ë°ì´í„°ë¥¼ ê´€ë¦¬í•  ë•Œ ê¸°ì¤€ì´ ë˜ëŠ” ê°œë…**
- ### `Topic`ì— ë“±ë¡í•œ ë©”ì„¸ì§€ëŠ” ë”°ë¡œ Conumerê°€ ì½ëŠ”ë‹¤ê³  ì‚¬ë¼ì§€ëŠ”ê²Œ ì•„ë‹ˆë‹¤.
  - KafakëŠ” ì „í†µì ì¸ ë©”ì‹œì§€ í ì‹œìŠ¤í…œê³¼ëŠ” **ë‹¤ë¥´ê²Œ ì„¤ê³„**ë˜ì—ˆê¸° ë•Œë¬¸ ì „í†µì ì¸ í ì‹œìŠ¤í…œì—ì„œëŠ” ë©”ì‹œì§€ë¥¼ ì†Œë¹„í•˜ë©´ ë©”ì‹œì§€ê°€ íì—ì„œ ì œê±°ë˜ë‚˜ **KafkaëŠ” ë¡œê·¸ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ëŠ” ë©”ì‹œì§• ì‹œìŠ¤í…œ ì´ê¸° ë–„ë¬¸**
    - ğŸ‘‰ ë‹¨ ! `groupId`ë¥¼ ì§€ì •í•˜ë©´ ê·¸ë£¹ì˜ ì»¨ìŠˆë¨¸ë“¤ì€ ë©”ì‹œì§€ë¥¼ ì¤‘ë³µ ì—†ì´ ì†Œë¹„í•˜ê²Œ ë©ë‹ˆë‹¤. ì´ëŠ” Kafkaì˜ ì»¨ìŠˆë¨¸ ê·¸ë£¹ ê´€ë¦¬ ë°©ì‹ ë•Œë¬¸ì´ë‹¤.
- ### Topicì„ ë°”ë¼ë³´ê³  ìˆëŠ” ëŒ€ìƒì´ ì—¬ëŸ¬ê°œì¼ ê²½ìš° ?
  - ì†Œì¼“ê³¼ ê°™ì´ ëª¨ë‘ì—ê²Œ ì „íŒŒ ë  ê²ƒìœ¼ë¡œ ì˜ˆìƒ -> í•˜ì§€ë§Œ í‹€ë ¸ìŒ í•œê³³ì—ë§Œ ë‚˜ì˜´ ë°˜ëŒ€ìª½ ì„œë²„ë¥¼ ë„ë©´ ì¼œìˆëŠ” ê³§ìœ¼ë¡œ ë„˜ì–´ê°„ë‹¤.
    - ğŸ‘‰ ë‹¨ ! `groupId`ì„ ì§€ì •í•˜ì§€ ì•Šìœ¼ë©´ ë°”ë¼ë³´ëŠ” `Topic`ì˜ ë©”ì„¸ì§€ë¥¼ ëª¨ë‘ê°€ ë°›ëŠ”ë‹¤.  
    ![kafka](https://github.com/edel1212/messageQueueStudy/assets/50935771/6edbb7c7-96ea-4f84-a33b-ccf91cebc2ae)


- ### `partition`ì„ ì‚¬ìš©í–ˆì„ ê²½ìš° í•œìª½ì˜ `partition`ì—ë§Œ ë©”ì„¸ì§€ê°€ ìŒ“ì˜€ë˜ ì´ìŠˆ
  - Producerìª½ì˜ Batch Size ì„¤ì •ìœ¼ë¡œ í•´ê²°
    -  Batch Sizeë€ ?
      - batchë¥¼ ì´ìš©í•˜ë©´ ë©”ì„¸ì§€ë¥¼ ë¬¶ìŒ ìœ¼ë¡œ ë³´ë‚´ê¸° ë•Œë¬¸ì— replicaì²˜ë¦¬ ë¡œì§ì´ ì¤„ì–´ ë©”ì„¸ì§€ send ì²˜ë¦¬ ëŒ€ê¸° ì¤„ì¼ ìˆ˜ ìˆë‹¤. 
        - ğŸ‘‰ ì ì • Batch Size ì„¤ì •ì´ ì¤‘ìš”í•˜ë‹¤
        
        ![img1 daumcdn](https://github.com/edel1212/messageQueueStudy/assets/50935771/1a87a924-1432-4efa-8d5e-a5333311f32c)     

  - ì˜ˆì‹œ ì½”ë“œ

    ```java
    @Configuration
    public class KafkaProducerConfig {
        @Bean
        public ProducerFactory<String, Object> producerFactory() {
            Map<String, Object> config = new HashMap<>();
            // ğŸ‘‰ Batch ì‚¬ì´ì¦ˆ ìˆ˜ì •ìœ¼ë¡œ í•œìª½ìœ¼ë¡œ íŒŒí‹°ì…˜ìœ¼ë¡œ ë©”ì„¸ì§€ê°€ ëª°ë¦¬ëŠ” ì´ìŠˆ ìˆ˜ì •
            config.put(ProducerConfig.BATCH_SIZE_CONFIG, 1);
            return new DefaultKafkaProducerFactory<>(config);
        }
    }
    ```
